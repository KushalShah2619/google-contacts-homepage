<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>Google Contacts</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="modalStyle.css">
  <link rel="stylesheet" href="headerStyle.css">
  <link rel="stylesheet" href="sidebarStyle.css">
</head>

<body>
    <div class="main">
        <div class="header">
            <div class="left-side-header">
                <div class="menu-option-icon">
                    <img src="./img/menu.png" width="25" height="25" alt="menu">
                </div>
                <div class="contact-logo">
                    <img src="./img/contacts.png" width="44" height="44">
                    <span>Contacts</span>
                </div>
            </div>

            <div class="middle-header">
                <div class="search-option-icon">
                    <img src="./img/search.svg">
                    <input type="text" placeholder="Search">
                </div>
            </div>

            <div class="right-side-header">
                <div class="help-option-icon">
                    <img src="./img/help.svg" width="25" height="25" alt="help">
                </div>
                <div class="setting-option-icon">
                    <img src="./img/setting.svg" width="25" height="25" alt="setting">
                </div>

                <div class="google-apps-option-icon" id="google-apps-option-icon">
                    <img src="./img/dots-menu.svg" width="25" height="25" alt="apps">
                </div>
                <div class="google-app-overlay google-app-overlay-display" id="google-app-overlay">
                    <div class="gApps-icon">
                        <img src="./img/youtube.svg">
                    </div>
                    <div class="gApps-icon">
                        <img src="./img/gdrive.svg">
                    </div>
                    <div class="gApps-icon">
                        <img src="./img/gmail.svg">
                    </div>
                    <!-- <div class="gApps-horizontal-line"></div> -->

                    <div class="gApps-icon">
                        <img src="./img/gdocs.svg">
                    </div>
                    <div class="gApps-icon">
                        <img src="./img/gslides.svg">
                    </div>
                    <div class="gApps-icon">
                        <img src="./img/gsheet.svg">
                    </div>
                    <div class="gApps-horizontal-line"></div>

                    <div class="gApps-icon">
                        <img src="./img/gmap.svg">
                    </div>
                    <div class="gApps-icon">
                        <img src="./img/gmeet.svg">
                    </div>
                    <div class="gApps-icon">
                        <img src="./img/gcalender.svg">
                    </div>
                    <!-- <div class="gApps-horizontal-line"></div> -->

                    <div class="gApps-icon">
                        <img src="./img/youtube.svg">
                    </div>
                    <div class="gApps-icon">
                        <img src="./img/gdrive.svg">
                    </div>
                    <div class="gApps-icon">
                        <img src="./img/gmail.svg">
                    </div>
                    <div class="gApps-horizontal-line"></div>

                    <div class="gApps-icon">
                        <img src="./img/gdocs.svg">
                    </div>
                    <div class="gApps-icon">
                        <img src="./img/gslides.svg">
                    </div>
                    <div class="gApps-icon">
                        <img src="./img/gsheet.svg">
                    </div>
                    <!-- <div class="gApps-horizontal-line"></div> -->

                    <div class="gApps-icon">
                        <img src="./img/gmap.svg">
                    </div>
                    <div class="gApps-icon">
                        <img src="./img/gmeet.svg">
                    </div>
                    <div class="gApps-icon">
                        <img src="./img/gcalender.svg">
                    </div>
                </div>

                <div class="account-info">
                    <img src="./img/sprinklr-logo.png" width="85" height="35" alt="sprinklr">
                    <span>K</span>
                </div>
            </div>
        </div>
        
        <div class="main-body">
            <div class="option-menu" style="display: block;">
                <div class="create-button-div">
                    <button> <img src="./img/plus.svg" width="20" height="20"> <span>&nbsp Create contact</span></button>
                </div>

                <div class="create-new-button-options-div create-new-button-options-div-display" id="create-new-button-options-div">
                    <div class="create-new-button-option-sidebar">
                        <img src="./img/personLight.svg" width="20px" height="20px">
                        <span>Create a contact</span>
                    </div>
                    <div class="create-new-button-option-sidebar">
                        <img src="./img/multiplePersonLight.svg" width="20px" height="20px">
                        <span>Create multiple contacts</span>
                    </div>
                </div>

                <div class="option-div contact-option" style="margin-top: 10px;">
                    <a class="option-link  active-option" href="">
                        <img src="./img/person.svg" width="15px" height="15px">
                        <span>Contacts</span>
                    </a>
                </div>

                <div class="option-div frequent-option">
                    <a class="option-link" href="">
                        <img src="./img/frequentlyUse.svg" width="15px" height="15px">
                        <span>Frequently contacted</span>
                    </a>
                </div>

                <div class="option-div directory-option">
                    <a class="option-link" href="">
                        <img src="./img/directory.svg" width="15px" height="15px">
                        <span>Directory</span>
                    </a>
                </div>

                <div class="option-div merge-option">
                    <a class="option-link" href="">
                        <img src="./img/merge.svg" width="15px" height="15px">
                        <span>Merge & fix</span>
                    </a>
                </div>

                <div class="horizontal-line"></div>

                <div class="option-div label-option">
                    <a class="option-link" href="">
                        <img id="open-label-option" src="./img/closeDiv.svg" width="15px" height="15px">
                        <span>Labels</span>
                    </a>
                </div>

                <div class="option-div create-new-label-option">
                    <a class="option-link" style="cursor: pointer;">
                        <img src="./img/plus.svg" width="20px" height="20px">
                        <span>Create label</span>
                    </a>
                </div>

                <div class="horizontal-line"></div>

                <div class="option-div import-option">
                    <a class="option-link" href="">
                        <img src="./img/import.svg" width="15px" height="15px">
                        <span>Import</span>
                    </a>
                </div>

                <div class="option-div export-option">
                    <a class="option-link" href="">
                        <img src="./img/export.svg" width="15px" height="15px">
                        <span>Export</span>
                    </a>
                </div>

                <div class="option-div print-option">
                    <a class="option-link" href="">
                        <img src="./img/print.svg" width="15px" height="15px">
                        <span>Print</span>
                    </a>
                </div>

                <div class="horizontal-line"></div>

                <div class="option-div otherContacts-option">
                    <a class="option-link" href="">
                        <img src="./img/otherContacts.svg" width="15px" height="15px">
                        <span>Other Contacts</span>
                    </a>
                </div>

                <div class="option-div trash-option">
                    <a class="option-link" href="">
                        <img src="./img/trash.svg" width="20px" height="20px">
                        <span>Trash</span>
                    </a>
                </div>

            </div>

            <div class="contact-display">
                <div class="display-body">
                    <div class="image-open-book">
                        <img src="./img/open-book.png" width="150" height="150">
                    </div>
                    <div class="contact-info">No contacts yet</div>
                    <div class="link-contacts">
                        <a href="" id="create-new-contact-link"><img src="./img/person.svg" width="12px" height="12px">&nbsp Create contact</a>
                        <a href=""><img src="./img/import.svg" width="15px" height="15px">&nbsp Import contacts</a>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal-display close-modal" id="modal-display">
            <div class="modal-create-contact" id="modal-create-contact">
                <div class="header-and-main-body">
                    <div class="create-contact-modal-header">
                        <div>Create new contact</div>
                        <div class="create-contact-add-label">
                            No label
                        </div>
                    </div>
                    <div class="info-input">
                        <div class="row-inputs">
                            <div class="row-input-icon">
                                <img src="./img/person.svg">
                            </div>
                            <div class="row-input-fields">
                                <div class="row-input-field">
                                    <span class="input-visibility-hidden">First name</span>
                                    <input type="text" id="first-name-input" placeholder="First name">
                                </div>
                                <div class="row-input-field">
                                    <span class="input-visibility-hidden">Last name</span>
                                    <input type="text" placeholder="Last name">
                                </div>
                                <div class="input-visibility-hidden clear-input">
                                    X
                                </div>
                            </div>
                        </div>

                        <div class="row-inputs">
                            <div class="row-input-icon">
                                <img src="./img/directory.svg">
                            </div>
                            <div class="row-input-fields">
                                <div class="row-input-field">
                                    <span class="input-visibility-hidden">Company</span>
                                    <input type="text" placeholder="Company">
                                </div>
                                <div class="row-input-field">
                                    <span class="input-visibility-hidden">Job title</span>
                                    <input type="text" placeholder="Job title">
                                </div>
                                <div class="input-visibility-hidden clear-input">
                                    X
                                </div>
                            </div>
                        </div>

                        <div class="row-inputs">
                            <div class="row-input-icon">
                                <img src="./img/phone.svg">
                            </div>
                            <div class="country-selection">
                                <img src="./img/IndianFlag.svg" width="25px" height="20px">
                            </div>
                            <div class="row-input-fields">
                                <div class="row-input-field phone-input">
                                    <input type="text" placeholder="Phone">
                                </div>
                                <div class="row-input-field phone-label-input phone-label-input-display">
                                    <input type="text" placeholder="Label">
                                </div>
                                <div class="input-visibility-hidden clear-input">
                                    X
                                </div>
                            </div>
                        </div>

                        
                    </div>
                </div>
                <div class="create-contact-modal-footer">
                    <div class="close-model-button" id="close-model-button">
                        Cancel
                    </div>
                    <div class="save-contact-button" id="save-contact-button">
                        Save
                    </div>
                </div>

            </div>
        </div>
    </div>
    <script>

        let createNewButtonInSidebar = document.getElementsByClassName("create-button-div")[0];
        let createNewButtonOptionsInSidebar = document.getElementsByClassName("create-new-button-options-div")[0];
        const bodyTag = document.getElementsByTagName("body")[0];

        function handleCreateNewButtonOptionsInSidebar(event) {
            //console.log(event.target);
            if((event.target).closest("#create-new-button-options-div") === null) {
                createNewButtonOptionsInSidebar.classList.add("create-new-button-options-div-display");
                bodyTag.removeEventListener("click", handleCreateNewButtonOptionsInSidebar);
            }
        }

        createNewButtonInSidebar.addEventListener("click", (event) => {
            bodyTag.click();
            event.stopPropagation();

            if(createNewButtonOptionsInSidebar.classList.contains("create-new-button-options-div-display")) {
                createNewButtonOptionsInSidebar.classList.remove("create-new-button-options-div-display");
                sleep(200);
                bodyTag.addEventListener("click", handleCreateNewButtonOptionsInSidebar);
            }
            else {
                handleCreateNewButtonOptionsInSidebar(event);
            }
        })

        let optionsMenu = document.getElementsByClassName("option-menu")[0].children;
        //console.log(optionsMenu);
        for(let i=2; i<optionsMenu.length; i++) {
            if((optionsMenu[i].classList[1] !== "label-option") && (optionsMenu[i].classList[1] !== "create-new-label-option")) {
                optionsMenu[i].addEventListener("click", () => {
                    event.preventDefault();
                    
                    let prvActiveClass = document.getElementsByClassName("active-option")[0];
                    prvActiveClass.classList.remove("active-option");

                    (optionsMenu[i].children)[0].classList.add("active-option")
                })
            }
        }

        let labelOption = document.getElementsByClassName("label-option")[0];

        labelOption.addEventListener("click", () => {
            event.preventDefault();
            let prevSvgTag = labelOption.getElementsByTagName("img")[0];
            if(prevSvgTag.id === "open-label-option") {
                prevSvgTag.src = "./img/openDiv.svg";
                prevSvgTag.id = "close-label-option";
                document.getElementsByClassName("create-new-label-option")[0].style.display = "none";
            }
            else if(prevSvgTag.id === "close-label-option"){
                prevSvgTag.src = "./img/closeDiv.svg";
                prevSvgTag.id = "open-label-option";
                document.getElementsByClassName("create-new-label-option")[0].style.display = "";
            }
        })

        function sleep(ms) {
            return new Promise(resolve => setTimeout(resolve, ms));
        }

        let menuOptionButton = document.getElementsByClassName("menu-option-icon")[0];
        let optionMenuDiv = document.getElementsByClassName("option-menu")[0];
        menuOptionButton.addEventListener("click", async() => {
            if(optionMenuDiv.style.display === "none") {
                optionMenuDiv.style.display = "block";
                //optionMenuDiv.style.visibility = "visible";
                optionMenuDiv.style.transform = "translateX(0px)";
                optionMenuDiv.style.transition = "transform 0.25s linear";
            }
            else if(optionMenuDiv.style.display === "block") {
                optionMenuDiv.style.transform = "translateX(-300px)";
                optionMenuDiv.style.transition = "transform 0.25s linear";
                await sleep(250);
                optionMenuDiv.style.display = "none";
                //optionMenuDiv.style.visibility = "hidden";
            }
        })

        function handleOptionMenuDisplay(event) {
            if(event.matches) {
                optionMenuDiv.style.display = "none";
            }
        }

        const mediaQuery1200 = window.matchMedia('(max-width: 1200px)');
        mediaQuery1200.addListener(handleOptionMenuDisplay);
        handleOptionMenuDisplay(mediaQuery1200);

        let searchIconClass = document.getElementsByClassName("search-option-icon")[0];
        let searchInputArea = searchIconClass.getElementsByTagName("input")[0];
        let searchIcon = searchIconClass.getElementsByTagName("img")[0];

        function handleSearchInputArea() {
            console.log(searchIcon.src);
            if(searchInputArea.style.display === "none") {
                searchInputArea.style.display = "";
                searchIcon.src = "./img/rightArrow.svg";
                searchIcon.style.width = "24px";
                searchIcon.style.height = "24px";

            } else {
                searchInputArea.style.display = "none";
                searchIcon.src = "./img/search.svg";
                searchIcon.style.width = "";
                searchIcon.style.height = "";
            }
        }

        function handleMediaQueries900(event) {
            if(event.matches) {
                searchInputArea.style.display = "none";
                searchIcon.addEventListener("click", handleSearchInputArea)
            }
        }

        function handleRemoveSearchAreaInputListener(event) {
            if(event.matches) {
                searchInputArea.style.display = "";
                searchIcon.src = "./img/search.svg";
                searchIcon.style.width = "";
                searchIcon.style.height = "";
                searchIcon.removeEventListener("click", handleSearchInputArea);
            }
            
        }

        const mediaQuery900 = window.matchMedia("(max-width: 900px)");
        mediaQuery900.addListener(handleMediaQueries900); 
        handleMediaQueries900(mediaQuery900);

        const mediaQuery901 = window.matchMedia("(min-width: 901px)");
        mediaQuery901.addListener(handleRemoveSearchAreaInputListener);
        handleRemoveSearchAreaInputListener(mediaQuery901);
    </script>

    <script src="./src/ModalDisplay.js"></script>
    <script src="./src/GAppsOverlay.js"></script>
</body>
</html>